<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors Game</title>
  </head>
  <style>
    * {
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    button {
      font-size: 25px;
      padding: 10px;
      border-radius: 12px;
    }
    button.btn {
      height: 20vh;
      width: 10vw;
      padding: 12px;
      background-color: transparent;
      border: 1.5px solid black;
      border-radius: 20px;
      margin-right: 15px;
    }
    button.btn img {
      width: 95%;
    }
    h2 {
      font-size: 30px;
    }
    h3 {
      font-size: 23px;
    }
    p {
      font-size: 22px;
    }
  </style>
  <body>
    <h2>Rock Paper Scissors Game</h2>
    <button onclick="playgame('Rock');" class="btn" title="Rock">
      <img src="images/rock-emoji.png" />
    </button>
    <button onclick="playgame('Paper');" class="btn" title="Paper">
      <img src="images/paper-emoji.png" />
    </button>
    <button onclick="playgame('Scissors');" class="btn" title="Scissors">
      <img src="images/scissors-emoji.png" />
    </button>
    <h3 class="moves"></h3>
    <h3 class="result"></h3>
    <p></p>
    <button onclick="resetgame();">Reset Score</button>
    <script>
      let score = JSON.parse(localStorage.getItem("score")) || {
        gametie: 0,
        compwin: 0,
        userwin: 0,
      };
      function getcompMove() {
        const num = Math.random();
        if (num >= 0 && num < 1 / 3) {
          return "Rock";
        } else if (num >= 1 / 3 && num < 2 / 3) {
          return "Paper";
        } else {
          return "Scissors";
        }
      }
      function playgame(userMove) {
        let compMove = getcompMove();
        document.querySelector(
          ".moves"
        ).innerHTML = `Your Move is ${userMove} and Computer Move is ${compMove}`;
        game(userMove, compMove);
      }
      function game(userMove, compMove) {
        if (userMove === "Rock") {
          if (compMove === "Rock") {
            document.querySelector(".result").innerHTML = "Game Tie";
            score.gametie += 1;
          } else if (compMove === "Scissors") {
            document.querySelector(".result").innerHTML = "User Win";
            score.userwin += 1;
          } else {
            document.querySelector(".result").innerHTML = "Computer Win";
            score.compwin += 1;
          }
        } else if (userMove === "Paper") {
          if (compMove === "Paper") {
            document.querySelector(".result").innerHTML = "Game Tie";
            score.gametie += 1;
          } else if (compMove === "Rock") {
            document.querySelector(".result").innerHTML = "User Win";
            score.userwin += 1;
          } else {
            document.querySelector(".result").innerHTML = "Computer Win";
            score.compwin += 1;
          }
        } else {
          if (compMove === "Scissors") {
            document.querySelector(".result").innerHTML = "Game Tie";
            score.gametie += 1;
          } else if (compMove === "Paper") {
            document.querySelector(".result").innerHTML = "User Win";
            score.userwin += 1;
          } else {
            document.querySelector(".result").innerHTML = "Computer Win";
            score.compwin += 1;
          }
        }
        localStorage.setItem("score", JSON.stringify(score));
        document.querySelector(
          "p"
        ).innerHTML = `Game Tie: ${score.gametie} User Win: ${score.userwin} Computer Win: ${score.compwin}`;
      }
      function resetgame() {
        score.gametie = 0;
        score.compwin = 0;
        score.userwin = 0;
        localStorage.setItem("score", JSON.stringify(score));
        document.querySelector(".moves").innerHTML = "";
        document.querySelector(".result").innerHTML = "Scores get Reset";
        document.querySelector(
          "p"
        ).innerHTML = `Game Tie: ${score.gametie} User Win: ${score.userwin} Computer Win: ${score.compwin}`;
      }
      document.querySelector(
        "p"
      ).innerHTML = `Game Tie: ${score.gametie} User Win: ${score.userwin} Computer Win: ${score.compwin}`;
    </script>
  </body>
</html>
